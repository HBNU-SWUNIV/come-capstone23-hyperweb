<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Test</title>
</head>
<body>
    <h1>JavaScript Test Page</h1>
    <button id="sendDataButton">Send Data</button>
    <div id="result"></div>

    <script>
        // JSON 데이터
        const data = [
            { "name": "돼지고기, 등심, 생것", "unit": "0" },
            { "name": "달걀, 생것", "unit": "0" },
            { "name": "멥쌀, 백미, 밥", "unit": "0" },
            { "name": "고구마, 생것", "unit": "0" },
            { "name": "호박, 단호박, 생것", "unit": "0" },
        ];

        // POST 요청을 보내는 함수
        async function sendData(data) {
            const response = await fetch("http://127.0.0.1:8000/optimize_diet/", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
            });

            if (response.ok) {
                const result = await response.json();
                console.log(result);
                const resultDiv = document.getElementById("result");
                resultDiv.innerHTML = JSON.stringify(result, null, 2);
            } else {
                console.error("Error:", response.status, response.statusText);
            }
        }

        // 버튼 클릭 이벤트 리스너를 추가합니다.
        document.getElementById("sendDataButton").addEventListener("click", () => sendData(data));
    </script>
</body>
</html>
